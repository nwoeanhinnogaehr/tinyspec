#!/bin/bash
set -e

[[ $1 == "" ]] && echo "Specify a hack to play. For example:" && echo "$ ./play example.h" && exit
echo "// FILE AUTOGENERATED BY PLAY SCRIPT. DO NOT EDIT" > .hack.h
cat hacks/$1 >> .hack.h
g++ -lm -O3 -Wall -Wextra tinyspec.cpp -o .tinyspec
./.tinyspec | aplay -c1 -f FLOAT_LE -r 44100
